<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="assets/css/bookshelf.main.css" />
    <link rel="stylesheet" href="assets/css/bookshelf.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+Display:ital,wght@0,100..900;1,100..900&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <main>
      <h1 id="my-bookshelf">Biblio</h1>
      <h4 style="font-style: italic">
        A man ought to read just as inclination leads him; for what he reads as
        a task will do him little good - Samuel Johnson, 1742
      </h4>
      <div style="margin-top: 32px">
        <h2 class="yearRead">2024</h2>
        <div class="bookshelf">
          <div class="book">
            <div class="side spine">
              <span class="spine-title"> Red Queen </span>
              <span class="spine-author"> JG </span>
            </div>
            <div class="side top"></div>
            <div
              class="side cover"
              style="background-image: url(images/books/redqueen.jpg)"
            ></div>
          </div>
        </div>
        <hr />
      </div>
      <br />
      <div style="margin-top: 32px">
        <h2 class="yearRead">2023</h2>
        <div class="bookshelf">
          <div class="book">
            <div class="side spine">
              <span class="spine-title"> No Country for Old Men </span>
              <span class="spine-author"> CM </span>
            </div>
            <div class="side top"></div>
            <div
              class="side cover"
              style="
                background-image: url(images/books/no-country-for-old-men.jpg);
              "
            ></div>
          </div>
        </div>
        <hr />
      </div>
      <script>
        function getRandomInt(min, max) {
          min = Math.ceil(min);
          max = Math.floor(max);
          return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function randomChoice(array) {
          return array[Math.floor(Math.random() * array.length)];
        }

        let spines = Object.values(document.getElementsByClassName("spine"));
        let covers = Object.values(document.getElementsByClassName("cover"));
        let tops = Object.values(document.getElementsByClassName("top"));

        let availablePatterns = ["argyle", "tartan"]; // we could probably get these programatically
        let availableColours = [
          "maroon",
          "darkgreen",
          "darkolivegreen",
          "brown",
          "saddlebrown",
          "sienna",
          "midnightblue",
        ];

        // assign a random height, pattern and colour to each book
        spines.map(function (s, i) {
          let randomHeight = getRandomInt(220, 290);
          s.style.height = `${randomHeight}px`;
          s.style.top = `${280 - randomHeight}px`;

          let randomPattern = randomChoice(availablePatterns);
          s.style.backgroundImage = `var(--${randomPattern})`;

          let randomColor = randomChoice(availableColours);
          s.style.backgroundColor = randomColor;

          covers[i].style.height = `${randomHeight}px`;
          covers[i].style.top = `${280 - randomHeight}px`;

          tops[i].style.top = `${280 - randomHeight}px`;
        });
      </script>
    </main>
  </body>
</html>
